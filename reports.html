<!DOCTYPE html>

<!--suppress ALL -->

<html>

<head>

    <meta charset="UTF-8">

    <title>Red Cross</title>



    <style type="text/css">


        #content{

            width: 50%;

            margin: 20px auto;

            border: 1px solid #cbcbcb;

        }
        a:link {
            text-decoration: none;
        }

        a:visited {
            text-decoration: none;
        }

        a:hover {
            text-decoration: none;
        }

        a:active {
            text-decoration: none;
        }
    </style>

    <style>

        * {

            box-sizing: border-box;

        }



        html {
            min-height: 100%;
            height: auto !important;
            height: 100%;
            margin: 0 auto -336px;
    
            width: 100%;
        }

        body {
    
            min-height: 100%;
            height: auto !important;
            height: 100%;
            margin: 0;
    
            font-family: Arial, Helvetica, sans-serif;
        }
        
        
        
        p.card-text{
            word-break: break-word;
            line-break: auto;
            word-wrap: break-word;
            word-wrap: break-spaces;
        }


        /* Float four columns side by side */

        .columnn {

            width: 70%;

            padding: 10px 0px 10px 0px;

        }

        .columnnPending {
    
            width: 70%;
    
            padding: 10px 0px 10px 0px;
    
        }



        /* Remove extra left and right margins, due to padding */





        /* Clear floats after the columns */

        .roww:after {

            content: "";

            display: table;

            clear: both;

        }



        /* Responsive columns */

        @media screen and (max-width: 600px) {

            .columnn {

                width: 100%;

                display: block;

                margin-bottom: 20px;

            }

        }



        /* Style the counter cards */

        .cardd {

            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);

            padding: 16px;

            text-align: center;

            background-color: #f1f1f1;

        }

        
        .redCard {

            box-shadow: 0 4px 8px 0 rgba(178, 15, 23, 1);

            padding: 16px;

            text-align: center;

            background-color: #b20f17;

            margin-bottom: 5px;

            color:#e6e6e6;

        }
        
        .orangeCard {

            box-shadow: 0 4px 8px 0 rgba(234, 133, 0, 1);

            padding: 16px;

            text-align: center;

            background-color: #ea8500;

            margin-bottom: 5px;

            color:#e6e6e6;

        }
        
        .greenCard {

            box-shadow: 0 4px 8px 0 rgba(0, 140, 33, 1);

            padding: 16px;

            text-align: center;

            background-color: #008c21;

            margin-bottom: 5px;

            color:#e6e6e6;

        }





        .reportDate {

            font-size: .67em;

            font-weight: normal;

        }



        .reportTitle {

            font-size: 88px;

        }



        #allReports{

            left: 50%;

        }



        footer {
            bottom: 0px;
            height: auto;
        }

        #grad {
            min-height: 100%;
            height: auto !important;
            height: 100%;
            margin: 0 auto -336px;
            background-image: linear-gradient(to bottom, #ffffff , #e6e6e6);
        }




        
        .loader {
            border: 16px solid #f3f3f3;
            border-radius: 50%;
            border-top: 16px solid #3498db;
            width: 120px;
            height: 120px;
            -webkit-animation: spin 2s linear infinite; /* Safari */
            animation: spin 2s linear infinite;
            cursor: wait;
        }

        /* Safari */
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .header {
            overflow: hidden;

            padding: 20px 10px;
        }

        .header a {
            float: left;
            color: black;
            text-align: center;
            padding: 12px;
            text-decoration: none;
            font-size: 18px;
            line-height: 25px;
            border-radius: 4px;
        }

        .header a.logo {
            text-decoration: none;
            font-size: 25px;
            font-weight: bold;
        }

        .header a:hover {
            text-decoration: none;
            background-color: #ddd;
            color: black;
        }

        .header a.active {
            text-decoration: none;
            background-color: dodgerblue;
            color: white;
        }

        .header-right {
            background-color: #f1f1f1;
            float: right;
        }

        @media screen and (max-width: 500px) {
            .header a {
                float: none;
                display: block;
                text-align: left;
            }

            .header-right {
                float: none;
            }
        }
        
        h1, h6{
            font-family: "Playfair Display";
            letter-spacing: 5px;
        }
    </style>



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>


</head>





<header>

<!--    <div id="branding">-->

<!--        <a onclick="logout()" style = "cursor: pointer; text-decoration: none; color: blue; float: right; margin-right: 10px; margin-top: 5px; margin-bottom: 20px;">Logout</a>-->

<!--        <a href="admin.html" style="text-decoration: none; color: blue; float: right; margin-right: 15px; margin-top: 5px;">Manage Users</a>-->

<!--    </div>-->






    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-database.js"></script>
<!--    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase.js"></script>-->
    <script src="https://cdn.firebase.com/libs/firebaseui/4.2.0/firebaseui.js"></script>
    <link href="https://cdn.firebase.com/libs/firebaseui/4.2.0/firebaseui.css" rel="stylesheet" type="text/css" />
    <script src="bundle.js"></script>
<!--    <script src="app.js"></script>-->
    <link href="footer.css" rel="stylesheet">
    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


    <script>

        var favoritemovie = localStorage.getItem("favoriteMovie");
        var highEm = null;
        var mediumEm = null;
        var lowEm = null;
        var max = -1;
        var totalPages = 1;
        var passedd = "false";
        var pageClickedNum = 1;
        var pageClickerFollower = "true";
        var highEmergencyCounter = 0;
        var mediumEmergencyCounter = 0;
        var lowEmergencyCounter = 0;
        var totalNumberOfEmergencies = 0;


        //function checkPr() {
            var privChecker = -1;


            var isUserAdmin = localStorage.getItem("isUAdmin");
            
            
            if(isUserAdmin != "1"){
                //alert("Reports: " + isUserAdmin);
                firebase.auth().signOut()
        
                    .then(function () {
            
                        localStorage.clear();
                        window.location.href = 'index.html';
            
                        //location.reload();
            
            
                        // Sign-out successful.
            
                    })
        
                    .catch(function (error) {
            
                        alert("SIGN OUT ERROR");
            
                        // An error happened
            
                    });

                //window.location.href = 'index.html';

            }

            else {


                //var bd = document.getElementById("allReports");
                //bd.innerHTML = "";
                //var bd2 = document.getElementById("pageNo");
                //bd2.innerHTML = "";


                var favoritemovie = localStorage.getItem("favoriteMovie");


                var currentID;

                var currentCenter;


                var favoritemovie = localStorage.getItem("favoriteMovie");


                firebase.database().ref('user/').child(favoritemovie).once('value', (snapshot) => {

                    var data = snapshot.val();

                    if (snapshot.exists()) {

                        for (let key in data) {

                            //console.log("data[key]", data["Center"]);

                            currentCenter = data["Center"];

                        }


                        firebase.database().ref('Centers/' + currentCenter + '/reports/').once('value', (snapshott) => {


                            var dataae = snapshott.val();

                            if (snapshott.exists()) {


                                //passedd = "true";
                                for (let keyyee in dataae) {
                                    passedd = "true";
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/' + keyyee).once('value', (snapshotts) => {
                                        //alert(snapshott.numChildren());
                                        if (snapshott.numChildren() > max) {
                                            if(max < Math.ceil(snapshotts.numChildren() / 5)) {
                                                max = Math.ceil(snapshotts.numChildren() / 5);
                                            }
                                            //alert("N" + snapshott.numChildren() + " " + max);
                                            totalPages = max;
                                        }
                                    });
                                }
                                pageClick(1);
                            }
                            else{
                                document.getElementById("pageTitle").style.fontWeight = "bold";
                                document.getElementById("pageTitle").innerHTML = "<br><br><br><br>";
                                document.getElementById("pageTitle").innerHTML += "No Reports Yet!";
                                document.getElementById("PreLoaderBar").style.display = "none";
                            }
                        });
                    }
                });
            }



        //}



    </script>

</header>







<!--<body id = "grad" onload="checkPr()" style="background-color:#ffffff;">-->
<body id = "grad" onload="pageClick(1)" style="background-color:#ffffff;">


<div class="header" style="text-decoration: none">

    <div class="header-right">
        <a id = "currentTabReport" class="active" href="reports.html">Reports</a>
        <a href="admin.html">Manage Users</a>
        <a onclick="logout()" style="cursor: pointer">Logout</a>

    </div>
</div>

<div>

<!--    <p style="text-align:center;"><img src='images/LogoRC.png' style="vertical-align:middle; display: block; margin-left: auto; margin-right: auto; width:250px; height:250px;"/>-->
<!--        <span style="font-weight: bold; color: #b20f17">High Emergencies: </span>-->
<!--    </p>-->

    
    <div style="display: flex;">
        
        <img src='images/LogoRC.png' style="margin-left: auto; margin-right: auto; width:250px; height:250px;"/>
        
        <span style="position: absolute; margin-top: 30px; margin-right: 150px; right: 0;"><span style="font-weight: bold; color: #b20f17">High Emergencies: </span><span style = "font-family: Playfair Display;" id = "totalHE">-</span></span>
        
        <span style="position: absolute; margin-top: 60px; margin-right: 140px; right: 0;"><span style="font-weight: bold; color: #ea8500">Medium Emergencies: </span><span style = "font-family: Playfair Display;" id = "totalME">-</span></span>
        
        <span style="position: absolute; margin-top: 90px; margin-right: 150px; right: 0;"><span style="font-weight: bold; color: #008c21">Low Emergencies: </span><span style = "font-family: Playfair Display;" id = "totalLE">-</span></span>
        
        <span style="position: absolute; margin-top: 120px; margin-right: 195px; right: 0;"><span style="font-weight: bold; color: #000000">Total: </span><span style = "font-family: Playfair Display;" id = "totalE">-</span></span>

    </div>

    
    
</div>
<!--    <div id = "totalNBReports" style="text-align: center;">-->
<!--<span style="float: right;"><span style="font-weight: bold; color: #b20f17">High Emergencies: </span>1</span>-->
<!--<span style="text-align: center; margin-left: 50px"><span style="font-weight: bold; color: #ea8500">Medium Emergencies: </span>1</span>-->
<!--<span style="text-align: right; margin-left: 50px"><span style="font-weight: bold; color: #008c21">Low Emergencies: </span>1</span>-->
<!--    </div>-->




<div id = "entries"></div>

<!--<img src='images/LogoRC.png' style='-->

<!--  margin-left: 42%; width:250px; height:250px;'/>-->




<div id = "allBody"></div>

<!--<h1 id="titlePending" style="margin-left: 20%; margin-top: 50px; margin-bottom: 20px"></h1>-->
<!--<div style="margin-left: 5%;" id = "allPending"></div>-->



<h1 id = "pageTitle" style="text-align: center; margin-top: 50px; margin-bottom: 20px"></h1>
<div align="center" id = "allReports"></div>

<h1 id = "titlePending" style="line-height: 0.5em;text-align: center; margin-top: 50px; margin-bottom: 20px"></h1>
<div id="showP" align="center" style="line-height: 0.5em;"></div>
<div align="center" id = "allPending"></div>

<h1 id="titleDeclined" style="margin-left: 69%; margin-top: 50px; margin-bottom: 20px"></h1>
<div style="margin-left: 55%;" id = "allDeclined"></div>

<div class="loader" id="PreLoaderBar" style="display: block; margin-top: 250px; margin-left: auto; margin-right: auto; text-align: center"></div>









<script>



    var pageN = document.getElementById("pageNo");


    function pageClick(pageClicked) {
        
    
    
        document.getElementById("PreLoaderBar").style.display = "flex";
        if (passedd == "true") {


            if (pageClickerFollower === "false") {
                if (pageClickedNum === pageClicked) {

                    document.getElementById("PreLoaderBar").style.display = "none";

                } else if ((pageClickedNum + 1) !== pageClicked) {
                    swal({
                            title: "You can't go forward by more than 1 page!",
            
                            //text: "Are you sure to proceed?",
                            type: 'error',
                            //showCancelButton: true,
                            confirmButtonColor: '#157efb',
            
                            confirmButtonText: "Ok",
            
            
                            //cancelButtonText: "Cancel",
            
            
                            closeOnConfirm: true,
            
                            closeOnCancel: true
                        },
        
                        function (isConfirm) {
    
                            if (isConfirm) {
        
                            }
                        });
                    //alert("Not Allowed To Go Back!\n\nNot Allowed To Go Forward By More Than 1 Page!");
                    document.getElementById("PreLoaderBar").style.display = "none";
                    //alert("pageClicked: " + pageClicked);
                    //pageClickedNum += 1;
                    //location.reload();
                } else {
                    pageClickedNum += 1;
                    //alert("pageClickedNum: " + pageClickedNum);



                    var bd = document.getElementById("allReports");
                    bd.innerHTML = "";
                    var bd2 = document.getElementById("pageNo");
                    bd2.innerHTML = "";


                    var favoritemovie = localStorage.getItem("favoriteMovie");


                    var currentID;

                    var currentCenter;


                    var favoritemovie = localStorage.getItem("favoriteMovie");


                    firebase.database().ref('user/').child(favoritemovie).once('value', (snapshot) => {

                        var data = snapshot.val();

                        if (snapshot.exists()) {

                            for (let key in data) {

                                //console.log("data[key]", data["Center"]);

                                currentCenter = data["Center"];

                            }


                            firebase.database().ref('Centers/' + currentCenter + '/reports/').once('value', (snapshott) => {


                                var dataae = snapshott.val();

                                if (snapshott.exists()) {

                                    if (passedd == "false") {

                                        passedd = "true";
                                        // for (let keyyee in dataae) {
                                        //     passedd = "true";
                                        //     firebase.database().ref('Centers/' + currentCenter + '/reports/' + keyyee).once('value', (snapshotts) => {
                                        //         //alert(snapshott.numChildren());
                                        //         if (snapshott.numChildren() > max) {
                                        //             max = Math.ceil(snapshotts.numChildren() / 5);
                                        //             alert("N" + snapshott.numChildren() + " " + max);
                                        //             totalPages = max;
                                        //         }
                                        //     });
                                        //
                                        // }

                                    } else {
                                        passedd = "true";
                                    }

                                    //var pageN = document.getElementById("pageNo");

                                    //var i;
                                    //for (i = -1; i < totalPages; i++) {
                                    //    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i + 2) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i + 2) + ");return false;'>" + (i + 2) + " </a>"
                                    //}

                                    if (highEm !== null) {
                                        var first = "true";
                                        firebase.database().ref('Centers/' + currentCenter + '/reports/high/').orderByKey().startAt(highEm).limitToFirst(6).once('value', (snapshott) => {
                                            var dataas = snapshott.val();

                                            if (snapshott.exists()) {

                                                for (let keyy in dataas) {

                                                    if (first === "false") {

                                                        var bd = document.getElementById("allReports");


                                                        firebase.database().ref('Centers/' + currentCenter + '/reports/high/' + keyy).once('value', (snapshott) => {


                                                            var dataass = snapshott.val();

                                                            if (snapshott.exists()) {


                                                                for (let keyyy in dataass) {

                                                                    var createDivRow = document.createElement('div');

                                                                    createDivRow.className = "row";

                                                                    var createDivColumn = document.createElement('div');

                                                                    createDivColumn.className = "column";

                                                                    var createDivCard = document.createElement('div');


                                                                    createDivCard.className = "redCard";


                                                                    var tempp = dataass["date"];

                                                                    var res = tempp.substring(1);

                                                                    var year = res.substring(0, 4);


                                                                    var month = res.substring(4, 6);


                                                                    var day = res.substring(6);


                                                                    var reportTime = new Date(year, month-1, day).toDateString();


                                                                    var createInfo = document.createElement('div');

                                                                    createInfo.className = "high";

                                                                    createInfo.id = keyy;

                                                                    createInfo.onclick = function () {
                                                                        showInfo(createInfo.id, createInfo.className)
                                                                    };

                                                                    createInfo.style.maxWidth = "36rem";


                                                                    var allContent = document.createElement('div');

                                                                    var closeButDiv = document.createElement('div');
                                                                    closeButDiv.style.textAlign = "right";
                                                                    var closeBut = document.createElement('i');
                                                                    closeBut.className = "fa fa-close";
                                                                    closeBut.style.padding = "5px";
                                                                    closeBut.style.textAlign = "right";
                                                                    closeBut.onclick = null;
                                                                    closeBut.onclick = function () {
                                                                        deleteReport(createInfo.id, createInfo.className)
                                                                    };
                                                                    closeButDiv.appendChild(closeBut);


                                                                    allContent.className = "card text-black bg-danger mb-3";
                                                                    allContent.style.cursor = "pointer";


                                                                    var cardB = document.createElement('div');

                                                                    cardB.className = "card-body";


                                                                    var titleC = document.createElement('h5');

                                                                    titleC.className = "card-title";

                                                                    titleC.style.fontWeight = "bolder";

                                                                    titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                    titleC.style.textAlign = "center";

                                                                    var cardD = document.createElement('p');

                                                                    cardD.className = "card-text";

                                                                    cardD.style.marginTop = "30px";

                                                                    cardD.style.fontWeight = "normal";

                                                                    cardD.style.textAlign = "left";

                                                                    cardD.innerHTML = dataass["description"];
                                                                    cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                                    highEm = createInfo.id;
                                                                    //alert(createInfo.id);

                                                                }
                                                                document.getElementById("pageTitle").innerHTML = "Reports";
                                                                //document.getElementById("PreLoaderBar").style.display = "none";

                                                                bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                                var elmnt = document.getElementById("allBody");
                                                                elmnt.scrollIntoView();
                                                                
                                                            }

                                                        })
                                                    } else {
                                                        first = "false";
                                                    }

                                                }


                                            }
                                            else{
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                            }


                                        });

                                    } else {


                                        firebase.database().ref('Centers/' + currentCenter + '/reports/high').orderByKey().limitToFirst(5).once('value', (snapshott) => {

                                            var dataas = snapshott.val();

                                            if (snapshott.exists()) {

                                                for (let keyy in dataas) {


                                                    var bd = document.getElementById("allReports");


                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/high/' + keyy).once('value', (snapshott) => {
                                                        highEm = snapshott.key;
                                                        //alert(highEm);

                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {

                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";

                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";

                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "redCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "high";

                                                                createInfo.id = keyy;

                                                                //alert(highEm);

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);


                                                                allContent.className = "card text-black bg-danger mb-3";
                                                                allContent.style.cursor = "pointer";


                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";


                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";

                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                                //alert(createInfo.id);
                                                            }
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
                                                            //document.getElementById("PreLoaderBar").style.display = "none";

                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();
                                                            
                                                        }

                                                    })

                                                }


                                            }
                                            else{
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                            }

                                        });
                                    }

                                    if (mediumEm !== null) {
                                        var firstMedium = "true";
                                        firebase.database().ref('Centers/' + currentCenter + '/reports/medium/').orderByKey().startAt(mediumEm).limitToFirst(6).once('value', (snapshott) => {

                                            var dataas = snapshott.val();

                                            if (snapshott.exists()) {

                                                for (let keyy in dataas) {
                                                    if (firstMedium === "false") {

                                                        var bd = document.getElementById("allReports");


                                                        firebase.database().ref('Centers/' + currentCenter + '/reports/medium/' + keyy).once('value', (snapshott) => {
                                                            mediumEm = snapshott.key;
                                                            var dataass = snapshott.val();

                                                            if (snapshott.exists()) {


                                                                for (let keyyy in dataass) {


                                                                    var createDivRow = document.createElement('div');

                                                                    createDivRow.className = "row";


                                                                    var createDivColumn = document.createElement('div');

                                                                    createDivColumn.className = "column";


                                                                    var createDivCard = document.createElement('div');


                                                                    createDivCard.className = "orangeCard";


                                                                    var tempp = dataass["date"];

                                                                    var res = tempp.substring(1);

                                                                    var year = res.substring(0, 4);


                                                                    var month = res.substring(4, 6);


                                                                    var day = res.substring(6);
    
    
                                                                    var reportTime = new Date(year, month-1, day).toDateString();


                                                                    var createInfo = document.createElement('div');

                                                                    createInfo.className = "medium";

                                                                    createInfo.id = keyy;

                                                                    createInfo.onclick = function () {
                                                                        showInfo(createInfo.id, createInfo.className)
                                                                    };

                                                                    createInfo.style.maxWidth = "36rem";


                                                                    var allContent = document.createElement('div');

                                                                    var closeButDiv = document.createElement('div');
                                                                    closeButDiv.style.textAlign = "right";
                                                                    var closeBut = document.createElement('i');
                                                                    closeBut.className = "fa fa-close";
                                                                    closeBut.style.padding = "5px";
                                                                    closeBut.style.textAlign = "right";
                                                                    closeBut.onclick = null;
                                                                    closeBut.onclick = function () {
                                                                        deleteReport(createInfo.id, createInfo.className)
                                                                    };
                                                                    closeButDiv.appendChild(closeBut);

                                                                    allContent.className = "card text-black bg-warning mb-3";
                                                                    allContent.style.cursor = "pointer";

                                                                    var cardB = document.createElement('div');

                                                                    cardB.className = "card-body";

                                                                    var titleC = document.createElement('h5');

                                                                    titleC.className = "card-title";

                                                                    titleC.style.fontWeight = "bolder";

                                                                    titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                    titleC.style.textAlign = "center";

                                                                    var cardD = document.createElement('p');

                                                                    cardD.className = "card-text";

                                                                    cardD.style.marginTop = "30px";

                                                                    cardD.style.fontWeight = "normal";

                                                                    cardD.style.textAlign = "left";

                                                                    cardD.innerHTML = dataass["description"];
                                                                    cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                                }
                                                                document.getElementById("pageTitle").innerHTML = "Reports";
                                                                //document.getElementById("PreLoaderBar").style.display = "none";

                                                                bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                                var elmnt = document.getElementById("allBody");
                                                                elmnt.scrollIntoView();
                                                                
                                                            }

                                                        })
                                                    } else {
                                                        firstMedium = "false";
                                                    }

                                                }


                                            }
                                            else{
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                            }


                                        });


                                    } else {

                                        firebase.database().ref('Centers/' + currentCenter + '/reports/medium/').orderByKey().limitToFirst(5).once('value', (snapshott) => {

                                            var dataas = snapshott.val();

                                            if (snapshott.exists()) {

                                                for (let keyy in dataas) {


                                                    var bd = document.getElementById("allReports");


                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/medium/' + keyy).once('value', (snapshott) => {
                                                        mediumEm = snapshott.key;
                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {


                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";


                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";


                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "orangeCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "medium";

                                                                createInfo.id = keyy;

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);

                                                                allContent.className = "card text-black bg-warning mb-3";
                                                                allContent.style.cursor = "pointer";

                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";

                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";

                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                            }
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
                                                            //document.getElementById("PreLoaderBar").style.display = "none";

                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();
                                                            
                                                        }

                                                    })

                                                }


                                            }
                                            else{
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                            }


                                        });

                                    }


                                    if (lowEm !== null) {
                                        firebase.database().ref('Centers/' + currentCenter + '/reports/low/').orderByKey().startAt(lowEm).limitToFirst(6).once('value', (snapshott) => {
                                            var firstLow = "true";
                                            var dataas = snapshott.val();
                                            
                                            if (snapshott.exists()) {


                                                for (let keyy in dataas) {
                                                    if (firstLow === "false") {

                                                        var bd = document.getElementById("allReports");

                                                        firebase.database().ref('Centers/' + currentCenter + '/reports/low/' + keyy).once('value', (snapshott) => {
                                                            lowEm = snapshott.key;

                                                            var dataass = snapshott.val();

                                                            if (snapshott.exists()) {


                                                                for (let keyyy in dataass) {

                                                                    var createDivRow = document.createElement('div');

                                                                    createDivRow.className = "row";

                                                                    var createDivColumn = document.createElement('div');

                                                                    createDivColumn.className = "column";

                                                                    var createDivCard = document.createElement('div');


                                                                    createDivCard.className = "greenCard";


                                                                    var tempp = dataass["date"];

                                                                    var res = tempp.substring(1);

                                                                    var year = res.substring(0, 4);


                                                                    var month = res.substring(4, 6);


                                                                    var day = res.substring(6);
    
    
                                                                    var reportTime = new Date(year, month-1, day).toDateString();


                                                                    var createInfo = document.createElement('div');

                                                                    createInfo.className = "low";

                                                                    createInfo.id = keyy;

                                                                    createInfo.onclick = function () {
                                                                        showInfo(createInfo.id, createInfo.className)
                                                                    };

                                                                    createInfo.style.maxWidth = "36rem";


                                                                    var allContent = document.createElement('div');


                                                                    allContent.className = "card text-black bg-success mb-3";
                                                                    allContent.style.cursor = "pointer";

                                                                    var closeButDiv = document.createElement('div');
                                                                    closeButDiv.style.textAlign = "right";
                                                                    var closeBut = document.createElement('i');
                                                                    closeBut.className = "fa fa-close";
                                                                    closeBut.style.padding = "5px";
                                                                    closeBut.style.textAlign = "right";
                                                                    closeBut.onclick = null;
                                                                    closeBut.onclick = function () {
                                                                        deleteReport(createInfo.id, createInfo.className)
                                                                    };
                                                                    closeButDiv.appendChild(closeBut);


                                                                    var cardB = document.createElement('div');

                                                                    cardB.className = "card-body";



                                                                    var titleC = document.createElement('h5');

                                                                    titleC.className = "card-title";

                                                                    titleC.style.fontWeight = "bolder";

                                                                    titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                    titleC.style.textAlign = "center";


                                                                    var cardD = document.createElement('p');

                                                                    cardD.className = "card-text";

                                                                    cardD.style.marginTop = "30px";

                                                                    cardD.style.fontWeight = "normal";

                                                                    cardD.style.textAlign = "left";

                                                                    cardD.innerHTML = dataass["description"];
                                                                    cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                                }
                                                                document.getElementById("pageTitle").innerHTML = "Reports";
                                                                //document.getElementById("PreLoaderBar").style.display = "none";
                                                                bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                                var elmnt = document.getElementById("allBody");
                                                                elmnt.scrollIntoView();
                                                            }

                                                        })
                                                    } else {
                                                        firstLow = "false";
                                                    }

                                                }

                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                var pageN = document.getElementById("pageNo");

                                                var i;
                                                if(totalPages<6) {
                                                    for (i = 1; i <= totalPages; i++) {
                                                        if(i <= pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        else{
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                }else{
                                                    if((pageClickedNum+5)<totalPages) {
                                                        for (i = pageClickedNum; i <= pageClickedNum+4; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }
                                                            else {
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }                                                        }
                                                        pageN.innerHTML += "<a style='text-decoration: none; color: blue;'>... </a>";
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (totalPages) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (totalPages) + ");return false;'>" + (totalPages) + " </a>";
                                                    }
                                                    else{
                                                        for (i = pageClickedNum; i <= totalPages; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }
                                                            else {
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }
                                                        }
                                                    }
                                                    
                                                }
                                            }
                                            else{
    
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                                
                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                var pageN = document.getElementById("pageNo");
    
                                                var i;
                                                if(totalPages<6) {
                                                    for (i = 1; i <= totalPages; i++) {
                                                        if(i <= pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        else{
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                }else{
                                                    if((pageClickedNum+5)<totalPages) {
                                                        for (i = pageClickedNum; i <= pageClickedNum+4; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }
                                                            else {
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }
                                                        }
                                                        pageN.innerHTML += "<a style='text-decoration: none; color: blue;'>... </a>";
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (totalPages) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (totalPages) + ");return false;'>" + (totalPages) + " </a>";
                                                    }
                                                    else{
                                                        for (i = pageClickedNum; i <= totalPages; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }
                                                            else{
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }
                                                        }
                                                    }
        
                                                }

                                            }

                                        });

                                        
                                    } else {


                                        firebase.database().ref('Centers/' + currentCenter + '/reports/low/').once('value', (snapshott) => {

                                            var dataas = snapshott.val();

                                            if (snapshott.exists()) {


                                                for (let keyy in dataas) {

                                                    var bd = document.getElementById("allReports");

                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/low/' + keyy).orderByKey().limitToFirst(5).once('value', (snapshott) => {
                                                        lowEm = snapshott.key;

                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {

                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";

                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";

                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "greenCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "low";

                                                                createInfo.id = keyy;

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');


                                                                allContent.className = "card text-black bg-success mb-3";
                                                                allContent.style.cursor = "pointer";

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);


                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";


                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";


                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                            }
                                                            
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
      
                                                            //document.getElementById("PreLoaderBar").style.display = "none";
                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();

                                                        }

                                                    })

                                                }
                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                var pageN = document.getElementById("pageNo");

                                                var i;
                                                for (i = 1; i <= totalPages ; i++) {
                                                    if(i == pageClickedNum){
                                                        pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                    }
                                                    else{
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                    }
                                                }

                                            }
                                            else{
                                                
                                                var elmnt = document.getElementById("allBody");
                                                elmnt.scrollIntoView();
                                                
                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                var pageN = document.getElementById("pageNo");
    
    
    
                                                var i;
                                                if(totalPages<6) {
                                                    for (i = 1; i <= totalPages; i++) {
                                                        if(i <= pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        else{
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                }else{
                                                    if((pageClickedNum+5)<totalPages) {
                                                        for (i = pageClickedNum; i <= pageClickedNum+4; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }
                                                            else {
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }
                                                        }
                                                        pageN.innerHTML += "<a style='text-decoration: none; color: blue;'>... </a>";
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (totalPages) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (totalPages) + ");return false;'>" + (totalPages) + " </a>";
                                                    }
                                                    else{
                                                        for (i = pageClickedNum; i <= totalPages; i++) {
                                                            if(i == pageClickedNum){
                                                                pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                            }else{
                                                                pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            }
                                                        }
                                                    }
        
                                                }
                                                
                                                //SECOND PAGE LOW EM == NULL

                                            }


                                        });
                                    }

                                }
                            })
                        }
                    });

                    function deleteReport(id, classn) {
    
    
                        swal({
                                title: "Are you sure you want to delete this report?",
            
                                //text: "Are you sure to proceed?",
                                type: 'warning',
                                showCancelButton: true,
                                text: "You won't be able to revert this!",
                                confirmButtonColor: '#DD6B55',
            
                                confirmButtonText: "Delete",
            
            
                                cancelButtonText: "Cancel",
            
            
                                closeOnConfirm: true,
            
                                closeOnCancel: true
                            },
        
                            function (isConfirm) {
            
                                if (isConfirm) {
                
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id).remove();
                
                                    location.reload();
                                }
            
                            });

                    }

                    function showInfo(id, classn) {
    
                        if (event.target.toString() !== "[object HTMLElement]") {
    
    
                            swal({
                                    title: "What do you want to see?",
            
                                    //text: "Are you sure to proceed?",
            
            
                                    showCancelButton: true,
            
                                    //confirmButtonColor: "#DD6B55",
            
                                    //confirmButtonColor: '#157efb',
                                    //cancelButtonColor: '#d33',
            
                                    confirmButtonColor: '#aaa',
            
                                    confirmButtonText: "Pending",
            
            
                                    cancelButtonText: "Accepted",
        
                                    allowEscapeKey: false,
                                    allowOutsideClick: false,
            
                                    closeOnConfirm: true,
            
                                    closeOnCancel: true
                                },
        
                                function (isConfirm) {
            
                                    if (isConfirm) {
                                        var cT = document.getElementById("currentTabReport");
                                        cT.className = "";
                                        
                                        var pageN = document.getElementById("pageNo");
                                        pageN.innerHTML = "";
                                        //swal("Account Removed!", "Your account is removed permanently!", "success");
                
                
                                        //if (event.target.toString() !== "[object HTMLElement]") {
                
                                        document.getElementById("allReports").innerHTML = "";
                                        document.getElementById("pageTitle").innerHTML = "";
                
                                        document.getElementById("titlePending").innerHTML = "Pending";
                
                                        var yC = document.getElementsByClassName("pgeClck");
                                        for (i = 0; i < yC.length; i++) {
                                            yC[i].style.display = "none";
                                        }
                
                
                                        firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Pending').once('value', (snapshotts) => {
                                            document.getElementById("PreLoaderBar").style.display = "flex";
                                            
    
    
                                            var createnewA = document.createElement('a');
    
                                            createnewA.style.textDecoration = "none";
    
                                            createnewA.style.color = "blue";
    
                                            createnewA.style.fontSize = "12px";
                                            createnewA.style.letterSpacing = "0";
                                            createnewA.style.cursor = "pointer";
                                            createnewA.onclick = function () {
                                                showDeclined(id, classn)
                                            };
    
                                            createnewA.innerHTML = "Show declined?";
                    
                                            //var bdd = document.getElementById("branding");
                    
                                            //bdd.appendChild(createnewA);
                    
                    
                                            var dataaess = snapshotts.val();
                    
                                            if (snapshotts.exists()) {
    
                                                document.getElementById("showP").style.marginBottom = "25px";
    
    
                                                var bd = document.getElementById("allReports");
                                                var bdd2 = document.getElementById("allPending");
                                                var bdd22 = document.getElementById("allDeclined");
                                                document.getElementById("showP").appendChild(createnewA);
                                                
                                                
                        
                                                var bd = document.getElementById("allReports");
                        
                                                var IDs = [];
                        
                                                for (let keyysye in dataaess) {
                                                    IDs.push(keyysye);
                                                }
                        
                        
                                                //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                                //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                                //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                                //keyysy
                        
                        
                                                firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                            
                            
                                                    snapshottt.forEach(function (child2) {
                                                        //alert(child2.key);
                                
                                                        if (IDs.includes(child2.key)) {
                                    
                                                            firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                        
                                                                var dataasss = snapshottss.val();
                                        
                                                                if (snapshottss.exists()) {
                                            
                                            
                                                                    for (let keyysys in dataasss) {
                                                                        //alert(keyysys);
                                                                        var createDivRow = document.createElement('div');
                                                
                                                                        createDivRow.className = "roww";
                                                
                                                
                                                                        var createDivColumn = document.createElement('div');
                                                
                                                                        createDivColumn.className = "columnn";
                                                
                                                
                                                                        var createDivCard = document.createElement('div');
                                                
                                                
                                                                        if (classn === "high") {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                    
                                                                        } else if (classn === "medium") {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                                        } else {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                                        }
                                                
                                                
                                                                        var createInfo = document.createElement('div');
                                                
                                                
                                                                        var shiftDay = "";
                                                
                                                                        //alert(dataasss["Shift"]);
                                                                        if (dataasss["Shift"] === "1") {
                                                                            shiftDay = "Monday";
                                                                        } else if (dataasss["Shift"] === "2") {
                                                                            shiftDay = "Tuesday";
                                                                        } else if (dataasss["Shift"] === "3") {
                                                                            shiftDay = "Wednesday";
                                                                        } else if (dataasss["Shift"] === "4") {
                                                                            shiftDay = "Thursday";
                                                                        } else {
                                                                            shiftDay = "Friday";
                                                                        }
                                                
                                                
                                                                        createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                    
                                                                            + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                
                                                
                                                                    }
                                                                    document.getElementById("PreLoaderBar").style.display = "none";
                                                                    bdd2.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                                }
                                                            });
                                                        }
                                                    });
                                                });
                                                //}
                                            } else {
                                                document.getElementById("PreLoaderBar").style.display = "none";
                                            }
                                        })
                                        //}
                
                
                                    } else {
                                        var cT = document.getElementById("currentTabReport");
                                        cT.className = "";
                                        
                                        var pageN = document.getElementById("pageNo");
                                        pageN.innerHTML = "";
                                        //swal("Hurray", "Account is not removed!", "error");
                
                
                                        //if (event.target.toString() !== "[object HTMLElement]") {
                
                
                                        document.getElementById("allReports").innerHTML = "";
                
                                        document.getElementById("pageTitle").innerHTML = "Accepted";
                
                                        var yC = document.getElementsByClassName("pgeClck");
                                        for (i = 0; i < yC.length; i++) {
                                            yC[i].style.display = "none";
                                        }
                
                
                                        firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Accepted/').once('value', (snapshotts) => {
                                            document.getElementById("PreLoaderBar").style.display = "flex";
                    
                                            var createnewA = document.createElement('a');
                    
                                            createnewA.href = "reports.html";
                    
                                            createnewA.style.textDecoration = "none";
                    
                                            createnewA.style.color = "blue";
                    
                                            createnewA.style.cssFloat = "right";
                    
                                            createnewA.style.marginRight = "15px";
                    
                                            createnewA.style.marginTop = "5px";
                    
                                            createnewA.innerHTML = "Reports";
                    
                                            //var bdd = document.getElementById("branding");
                    
                                            //bdd.appendChild(createnewA);
                    
                    
                                            var dataaess = snapshotts.val();
                    
                                            if (snapshotts.exists()) {
                        
                        
                                                document.getElementById("pageTitle").style.marginBottom = "25px";
                        
                        
                                                var bd = document.getElementById("allReports");
                        
                                                var IDs = [];
                        
                                                for (let keyysye in dataaess) {
                                                    IDs.push(keyysye);
                                                }
                        
                        
                                                //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                                //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                                //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                                //keyysy
                        
                        
                                                firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                            
                            
                                                    snapshottt.forEach(function (child2) {
                                                        //alert(child2.key);
                                
                                                        if (IDs.includes(child2.key)) {
                                    
                                                            firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                        
                                        
                                                                var dataasss = snapshottss.val();
                                        
                                                                if (snapshottss.exists()) {
                                            
                                            
                                                                    for (let keyysys in dataasss) {
                                                
                                                
                                                                        var createDivRow = document.createElement('div');
                                                
                                                                        createDivRow.className = "roww";
                                                
                                                
                                                                        var createDivColumn = document.createElement('div');
                                                
                                                                        createDivColumn.className = "columnn";
                                                
                                                
                                                                        var createDivCard = document.createElement('div');
                                                
                                                
                                                                        if (classn === "high") {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                    
                                                                        } else if (classn === "medium") {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                                        } else {
                                                    
                                                    
                                                                            createDivCard.className = "cardd";
                                                    
                                                                        }
                                                
                                                
                                                                        var createInfo = document.createElement('div');
                                                
                                                                        var shiftDay = "";
                                                
                                                                        if (dataasss["Shift"] === "1") {
                                                                            shiftDay = "Monday";
                                                                        } else if (dataasss["Shift"] === "2") {
                                                                            shiftDay = "Tuesday";
                                                                        } else if (dataasss["Shift"] === "3") {
                                                                            shiftDay = "Wednesday";
                                                                        } else if (dataasss["Shift"] === "4") {
                                                                            shiftDay = "Thursday";
                                                                        } else {
                                                                            shiftDay = "Friday";
                                                                        }
                                                
                                                
                                                                        createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                    
                                                                            + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                
                                                                    }
                                                                    document.getElementById("PreLoaderBar").style.display = "none";
                                                                    bd.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                                }
                                                            });
                                                        }
                                                    });
                                                });
                                                //}
                                            } else {
                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                document.getElementById("allReports").innerHTML = "<br><br><br><br><br><br><br><br><br><h1>No Accepted Members!</h1>";
                                            }
                                        })
                                        //}
                
                
                                    }
                                });
    
                        }







                        //if (confirm('Are you sure you want to delete this report?')) {



                        //}



                    }
    
    
    
    
    
    
    
    
                    function showDeclined(id, classn) {
        
                        if (event.target.toString() !== "[object HTMLElement]") {
                            document.getElementById("showP").style.display = "none";
            
            
            
                            var cT = document.getElementById("currentTabReport");
                            cT.className = "";
            
                            var pageN = document.getElementById("pageNo");
                            pageN.innerHTML = "";
            
                            //swal("Account Removed!", "Your account is removed permanently!", "success");
            
            
                            document.getElementById("allReports").innerHTML = "";
                            document.getElementById("allPending").innerHTML = "";
            
                            document.getElementById("pageTitle").innerHTML = "";
                            document.getElementById("titlePending").innerHTML = "Declined";
            
                            var yC = document.getElementsByClassName("pgeClck");
                            for (i = 0; i < yC.length; i++) {
                                yC[i].style.display = "none";
                            }
            
                            firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Declined/').once('value', (snapshotts) => {
                                document.getElementById("PreLoaderBar").style.display = "flex";
                
                
                
                                //var bdd = document.getElementById("branding");
                
                                //bd.appendChild(createnewA);
                
                
                                var dataaess = snapshotts.val();
                
                                if (snapshotts.exists()) {
                    
                    
                                    document.getElementById("titlePending").style.marginBottom = "25px";
                    
                    
                                    var bd = document.getElementById("allReports");
                                    var bdd2 = document.getElementById("allPending");
                                    var bdd22 = document.getElementById("allDeclined");
                                    var IDs = [];
                    
                                    for (let keyysye in dataaess) {
                                        IDs.push(keyysye);
                                    }
                    
                    
                                    //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                    //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                    //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                    //keyysy
                    
                    
                                    firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                        
                        
                                        snapshottt.forEach(function (child2) {
                                            //alert(child2.key);
                            
                                            if (IDs.includes(child2.key)) {
                                
                                                firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                    
                                                    var dataasss = snapshottss.val();
                                    
                                                    if (snapshottss.exists()) {
                                        
                                        
                                                        for (let keyysys in dataasss) {
                                                            //alert(keyysys);
                                                            var createDivRow = document.createElement('div');
                                            
                                                            createDivRow.className = "roww";
                                            
                                            
                                                            var createDivColumn = document.createElement('div');
                                            
                                                            createDivColumn.className = "columnnPending";
                                            
                                            
                                                            var createDivCard = document.createElement('div');
                                            
                                            
                                                            if (classn === "high") {
                                                
                                                
                                                                createDivCard.className = "cardd";
                                                
                                                
                                                            } else if (classn === "medium") {
                                                
                                                
                                                                createDivCard.className = "cardd";
                                                
                                                            } else {
                                                
                                                
                                                                createDivCard.className = "cardd";
                                                
                                                            }
                                            
                                            
                                                            var createInfo = document.createElement('div');
                                            
                                            
                                                            var shiftDay = "";
                                            
                                                            //alert(dataasss["Shift"]);
                                                            if (dataasss["Shift"] === "1") {
                                                                shiftDay = "Monday";
                                                            } else if (dataasss["Shift"] === "2") {
                                                                shiftDay = "Tuesday";
                                                            } else if (dataasss["Shift"] === "3") {
                                                                shiftDay = "Wednesday";
                                                            } else if (dataasss["Shift"] === "4") {
                                                                shiftDay = "Thursday";
                                                            } else {
                                                                shiftDay = "Friday";
                                                            }
                                            
                                            
                                                            createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                
                                                                + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                            
                                            
                                                        }
                                                        document.getElementById("PreLoaderBar").style.display = "none";
                                                        bdd2.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                        //bdd2.appendChild(createDivRow).appendChild(createDivColumn2).appendChild(createDivCard2).appendChild(createInfo2);
                                                    }
                                                });
                                            }
                                        });
                                    });
                                    //}
                                } else {
                                    document.getElementById("PreLoaderBar").style.display = "none";
                                    document.getElementById("allPending").innerHTML = "<br><br><br><br><br><br><br><br><br><h1>No Declined Members!</h1>";
                                }
                            })
            
            
            
            
                            //}
            
            
            
            
            
            
                        }
                        
        
                    }
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                }
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            } else { //pageClicked = 1  AHMAD KASSABIEH
                //alert("else: pageClicked: " + pageClicked);
                //alert("else: pageClickedNum: " + pageClickedNum);
                //alert("FIRST TIME LOADING");
                pageClickerFollower = "false";




                var bd = document.getElementById("allReports");
                bd.innerHTML = "";
                var bd2 = document.getElementById("pageNo");
                bd2.innerHTML = "";


                var favoritemovie = localStorage.getItem("favoriteMovie");


                var currentID;

                var currentCenter;


                var favoritemovie = localStorage.getItem("favoriteMovie");


                firebase.database().ref('user/').child(favoritemovie).once('value', (snapshot) => {

                    var data = snapshot.val();

                    if (snapshot.exists()) {

                        for (let key in data) {

                            //console.log("data[key]", data["Center"]);

                            currentCenter = data["Center"];

                        }


                        firebase.database().ref('Centers/' + currentCenter + '/reports/').once('value', (snapshott) => {

                            if(snapshott.child("high").exists()){
                                highEmergencyCounter = snapshott.child("high").numChildren();
                                //alert(snapshott.child("high").numChildren()); //highEmergencyCounter
                            }
                            if(snapshott.child("medium").exists()){
                                mediumEmergencyCounter = snapshott.child("medium").numChildren();
                                //alert(snapshott.child("medium").numChildren()); //highEmergencyCounter
                            }
                            if(snapshott.child("low").exists()){
                                lowEmergencyCounter = snapshott.child("low").numChildren();
                                //alert(snapshott.child("low").numChildren()); //highEmergencyCounter
                            }

                            totalNumberOfEmergencies = highEmergencyCounter + mediumEmergencyCounter + lowEmergencyCounter;
                            //alert(totalNumberOfEmergencies);

                            var dataae = snapshott.val();

                            if (snapshott.exists()) {

                                if (passedd == "false") {

                                    passedd = "true";
                                    // for (let keyyee in dataae) {
                                    //     passedd = "true";
                                    //     firebase.database().ref('Centers/' + currentCenter + '/reports/' + keyyee).once('value', (snapshotts) => {
                                    //         //alert(snapshott.numChildren());
                                    //         if (snapshott.numChildren() > max) {
                                    //             max = Math.ceil(snapshotts.numChildren() / 5);
                                    //             alert("N" + snapshott.numChildren() + " " + max);
                                    //             totalPages = max;
                                    //         }
                                    //     });
                                    //
                                    // }

                                } else {
                                    passedd = "true";
                                }

                                //var pageN = document.getElementById("pageNo");

                                //var i;
                                //for (i = -1; i < totalPages ; i++) {
                                //    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i + 2) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i + 2) + ");return false;'>" + (i + 2) + " </a>"
                                //}

                                if (highEm !== null) {
                                    var first = "true";
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/high/').orderByKey().startAt(highEm).limitToFirst(6).once('value', (snapshott) => {
                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {

                                            for (let keyy in dataas) {

                                                if (first === "false") {

                                                    var bd = document.getElementById("allReports");


                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/high/' + keyy).once('value', (snapshott) => {


                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {

                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";

                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";

                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "redCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "high";

                                                                createInfo.id = keyy;

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);


                                                                allContent.className = "card text-black bg-danger mb-3";
                                                                allContent.style.cursor = "pointer";


                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";


                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";

                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");                                                                highEm = createInfo.id;
                                                                //alert(createInfo.id);

                                                            }
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
                                                            //document.getElementById("PreLoaderBar").style.display = "none";

                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();
                                                            
                                                        }

                                                    })
                                                } else {
                                                    first = "false";
                                                }

                                            }


                                        }
                                        else{
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                        }


                                    });

                                } else {


                                    firebase.database().ref('Centers/' + currentCenter + '/reports/high').orderByKey().limitToFirst(5).once('value', (snapshott) => {


                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {

                                            for (let keyy in dataas) {


                                                var bd = document.getElementById("allReports");


                                                firebase.database().ref('Centers/' + currentCenter + '/reports/high/' + keyy).once('value', (snapshott) => {
                                                    highEm = snapshott.key;
                                                    //alert(highEm);

                                                    var dataass = snapshott.val();

                                                    if (snapshott.exists()) {


                                                        for (let keyyy in dataass) {

                                                            var createDivRow = document.createElement('div');

                                                            createDivRow.className = "row";

                                                            var createDivColumn = document.createElement('div');

                                                            createDivColumn.className = "column";

                                                            var createDivCard = document.createElement('div');


                                                            createDivCard.className = "redCard";


                                                            var tempp = dataass["date"];
                                                            //alert("TEMPP " + tempp);

                                                            var res = tempp.substring(1);
                                                            //alert("res " + res);

                                                            var year = res.substring(0, 4);
                                                            //alert("year " + year);


                                                            var month = res.substring(4, 6);
                                                            //alert("month " + month);


                                                            var day = res.substring(6);
                                                            //alert("day " + day);
    
    
                                                            var reportTime = new Date(year, month-1, day).toDateString();


                                                            var createInfo = document.createElement('div');

                                                            createInfo.className = "high";

                                                            createInfo.id = keyy;

                                                            //alert(highEm);

                                                            createInfo.onclick = function () {
                                                                showInfo(createInfo.id, createInfo.className)
                                                            };

                                                            createInfo.style.maxWidth = "36rem";


                                                            var allContent = document.createElement('div');

                                                            var closeButDiv = document.createElement('div');
                                                            closeButDiv.style.textAlign = "right";
                                                            var closeBut = document.createElement('i');
                                                            closeBut.className = "fa fa-close";
                                                            closeBut.style.padding = "5px";
                                                            closeBut.style.textAlign = "right";
                                                            closeBut.onclick = null;
                                                            closeBut.onclick = function () {
                                                                deleteReport(createInfo.id, createInfo.className)
                                                            };
                                                            closeButDiv.appendChild(closeBut);


                                                            allContent.className = "card text-black bg-danger mb-3";
                                                            allContent.style.cursor = "pointer";


                                                            var cardB = document.createElement('div');

                                                            cardB.className = "card-body";


                                                            var titleC = document.createElement('h5');

                                                            titleC.className = "card-title";

                                                            titleC.style.fontWeight = "bolder";

                                                            titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                            titleC.style.textAlign = "center";

                                                            var cardD = document.createElement('p');

                                                            cardD.className = "card-text";

                                                            cardD.style.marginTop = "30px";

                                                            cardD.style.fontWeight = "normal";

                                                            cardD.style.textAlign = "left";

                                                            cardD.innerHTML = dataass["description"];
                                                            cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                            //alert(createInfo.id);
                                                        }
                                                        document.getElementById("pageTitle").innerHTML = "Reports";
                                                        //document.getElementById("PreLoaderBar").style.display = "none";

                                                        bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                        var elmnt = document.getElementById("allBody");
                                                        elmnt.scrollIntoView();
                                                        
                                                    }

                                                })

                                            }


                                        }
                                        else{
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                        }

                                    });
                                }

                                if (mediumEm !== null) {
                                    var firstMedium = "true";
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/medium/').orderByKey().startAt(mediumEm).limitToFirst(6).once('value', (snapshott) => {

                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {

                                            for (let keyy in dataas) {
                                                if (firstMedium === "false") {

                                                    var bd = document.getElementById("allReports");


                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/medium/' + keyy).once('value', (snapshott) => {
                                                        mediumEm = snapshott.key;
                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {


                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";


                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";


                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "orangeCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "medium";

                                                                createInfo.id = keyy;

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);

                                                                allContent.className = "card text-black bg-warning mb-3";
                                                                allContent.style.cursor = "pointer";

                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";

                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";

                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                            }
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
                                                            //document.getElementById("PreLoaderBar").style.display = "none";

                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();
                                                            
                                                        }

                                                    })
                                                } else {
                                                    firstMedium = "false";
                                                }

                                            }


                                        }
                                        else{
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                        }


                                    });


                                } else {

                                    firebase.database().ref('Centers/' + currentCenter + '/reports/medium/').orderByKey().limitToFirst(5).once('value', (snapshott) => {

                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {

                                            for (let keyy in dataas) {


                                                var bd = document.getElementById("allReports");


                                                firebase.database().ref('Centers/' + currentCenter + '/reports/medium/' + keyy).once('value', (snapshott) => {
                                                    mediumEm = snapshott.key;
                                                    var dataass = snapshott.val();

                                                    if (snapshott.exists()) {


                                                        for (let keyyy in dataass) {


                                                            var createDivRow = document.createElement('div');

                                                            createDivRow.className = "row";


                                                            var createDivColumn = document.createElement('div');

                                                            createDivColumn.className = "column";


                                                            var createDivCard = document.createElement('div');


                                                            createDivCard.className = "orangeCard";


                                                            var tempp = dataass["date"];

                                                            var res = tempp.substring(1);

                                                            var year = res.substring(0, 4);


                                                            var month = res.substring(4, 6);


                                                            var day = res.substring(6);
    
    
                                                            var reportTime = new Date(year, month-1, day).toDateString();


                                                            var createInfo = document.createElement('div');

                                                            createInfo.className = "medium";

                                                            createInfo.id = keyy;

                                                            createInfo.onclick = function () {
                                                                showInfo(createInfo.id, createInfo.className)
                                                            };

                                                            createInfo.style.maxWidth = "36rem";


                                                            var allContent = document.createElement('div');

                                                            var closeButDiv = document.createElement('div');
                                                            closeButDiv.style.textAlign = "right";
                                                            var closeBut = document.createElement('i');
                                                            closeBut.className = "fa fa-close";
                                                            closeBut.style.padding = "5px";
                                                            closeBut.style.textAlign = "right";
                                                            closeBut.onclick = null;
                                                            closeBut.onclick = function () {
                                                                deleteReport(createInfo.id, createInfo.className)
                                                            };
                                                            closeButDiv.appendChild(closeBut);

                                                            allContent.className = "card text-black bg-warning mb-3";
                                                            allContent.style.cursor = "pointer";

                                                            var cardB = document.createElement('div');

                                                            cardB.className = "card-body";

                                                            var titleC = document.createElement('h5');

                                                            titleC.className = "card-title";

                                                            titleC.style.fontWeight = "bolder";

                                                            titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                            titleC.style.textAlign = "center";

                                                            var cardD = document.createElement('p');

                                                            cardD.className = "card-text";

                                                            cardD.style.marginTop = "30px";

                                                            cardD.style.fontWeight = "normal";

                                                            cardD.style.textAlign = "left";

                                                            cardD.innerHTML = dataass["description"];
                                                            cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                        }
                                                        document.getElementById("pageTitle").innerHTML = "Reports";
                                                        //document.getElementById("PreLoaderBar").style.display = "none";

                                                        bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                        var elmnt = document.getElementById("allBody");
                                                        elmnt.scrollIntoView();
                                                        
                                                    }

                                                })

                                            }


                                        }
                                        else{
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                        }


                                    });

                                }


                                if (lowEm !== null) {
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/low/').orderByKey().startAt(lowEm).limitToFirst(6).once('value', (snapshott) => {
                                        var firstLow = "true";
                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {


                                            for (let keyy in dataas) {
                                                if (firstLow === "false") {

                                                    var bd = document.getElementById("allReports");

                                                    firebase.database().ref('Centers/' + currentCenter + '/reports/low/' + keyy).once('value', (snapshott) => {
                                                        lowEm = snapshott.key;

                                                        var dataass = snapshott.val();

                                                        if (snapshott.exists()) {


                                                            for (let keyyy in dataass) {

                                                                var createDivRow = document.createElement('div');

                                                                createDivRow.className = "row";

                                                                var createDivColumn = document.createElement('div');

                                                                createDivColumn.className = "column";

                                                                var createDivCard = document.createElement('div');


                                                                createDivCard.className = "greenCard";


                                                                var tempp = dataass["date"];

                                                                var res = tempp.substring(1);

                                                                var year = res.substring(0, 4);


                                                                var month = res.substring(4, 6);


                                                                var day = res.substring(6);
    
    
                                                                var reportTime = new Date(year, month-1, day).toDateString();


                                                                var createInfo = document.createElement('div');

                                                                createInfo.className = "low";

                                                                createInfo.id = keyy;

                                                                createInfo.onclick = function () {
                                                                    showInfo(createInfo.id, createInfo.className)
                                                                };

                                                                createInfo.style.maxWidth = "36rem";


                                                                var allContent = document.createElement('div');


                                                                allContent.className = "card text-black bg-success mb-3";
                                                                allContent.style.cursor = "pointer";

                                                                var closeButDiv = document.createElement('div');
                                                                closeButDiv.style.textAlign = "right";
                                                                var closeBut = document.createElement('i');
                                                                closeBut.className = "fa fa-close";
                                                                closeBut.style.padding = "5px";
                                                                closeBut.style.textAlign = "right";
                                                                closeBut.onclick = null;
                                                                closeBut.onclick = function () {
                                                                    deleteReport(createInfo.id, createInfo.className)
                                                                };
                                                                closeButDiv.appendChild(closeBut);


                                                                var cardB = document.createElement('div');

                                                                cardB.className = "card-body";


                                                                var titleC = document.createElement('h5');

                                                                titleC.className = "card-title";

                                                                titleC.style.fontWeight = "bolder";

                                                                titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                                titleC.style.textAlign = "center";


                                                                var cardD = document.createElement('p');

                                                                cardD.className = "card-text";

                                                                cardD.style.marginTop = "30px";

                                                                cardD.style.fontWeight = "normal";

                                                                cardD.style.textAlign = "left";

                                                                cardD.innerHTML = dataass["description"];
                                                                cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");                                                                //cardD = cardD.replace(/\n/g, "<br>");
                                                            }
                                                            document.getElementById("pageTitle").innerHTML = "Reports";
                                                            //document.getElementById("PreLoaderBar").style.display = "none";
                                                            bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
    
                                                            var elmnt = document.getElementById("allBody");
                                                            elmnt.scrollIntoView();
                                                            
                                                        }

                                                    })
                                                } else {
                                                    firstLow = "false";
                                                }

                                            }
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            var pageN = document.getElementById("pageNo");

                                            var i;
                                            for (i = 1; i <= totalPages ; i++) { //01312112
                                                if(i == pageClickedNum){
                                                    pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                }
                                                else{
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                }
                                            }


                                        }
                                        else{
    
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                            
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            var pageN = document.getElementById("pageNo");

                                            var i;
                                            for (i = 1; i <= totalPages ; i++) {
                                                if(i == pageClickedNum){
                                                    pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                }
                                                else{
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                }
                                            }
                                        }


                                    });
    
                                    
                                            //first page, LOW EMERGENCY != NULL
                                } else {


                                    firebase.database().ref('Centers/' + currentCenter + '/reports/low/').limitToFirst(5).once('value', (snapshott) => {

                                        var dataas = snapshott.val();

                                        if (snapshott.exists()) {


                                            for (let keyy in dataas) {

                                                var bd = document.getElementById("allReports");

                                                firebase.database().ref('Centers/' + currentCenter + '/reports/low/' + keyy).orderByKey().once('value', (snapshott) => {
                                                    lowEm = snapshott.key;

                                                    var dataass = snapshott.val();

                                                    if (snapshott.exists()) {


                                                        for (let keyyy in dataass) {

                                                            var createDivRow = document.createElement('div');

                                                            createDivRow.className = "row";

                                                            var createDivColumn = document.createElement('div');

                                                            createDivColumn.className = "column";

                                                            var createDivCard = document.createElement('div');


                                                            createDivCard.className = "greenCard";


                                                            var tempp = dataass["date"];

                                                            var res = tempp.substring(1);

                                                            var year = res.substring(0, 4);


                                                            var month = res.substring(4, 6);


                                                            var day = res.substring(6);
    
    
                                                            var reportTime = new Date(year, month-1, day).toDateString();


                                                            var createInfo = document.createElement('div');

                                                            createInfo.className = "low";

                                                            createInfo.id = keyy;

                                                            createInfo.onclick = function () {
                                                                showInfo(createInfo.id, createInfo.className)
                                                            };

                                                            createInfo.style.maxWidth = "36rem";


                                                            var allContent = document.createElement('div');


                                                            allContent.className = "card text-black bg-success mb-3";
                                                            allContent.style.cursor = "pointer";

                                                            var closeButDiv = document.createElement('div');
                                                            closeButDiv.style.textAlign = "right";
                                                            var closeBut = document.createElement('i');
                                                            closeBut.className = "fa fa-close";
                                                            closeBut.style.padding = "5px";
                                                            closeBut.style.textAlign = "right";
                                                            closeBut.onclick = null;
                                                            closeBut.onclick = function () {
                                                                deleteReport(createInfo.id, createInfo.className)
                                                            };
                                                            closeButDiv.appendChild(closeBut);


                                                            var cardB = document.createElement('div');

                                                            cardB.className = "card-body";


                                                            var titleC = document.createElement('h5');

                                                            titleC.className = "card-title";

                                                            titleC.style.fontWeight = "bolder";

                                                            titleC.innerHTML = dataass["title"] + "<h6>" + reportTime + "</h6>";

                                                            titleC.style.textAlign = "center";


                                                            var cardD = document.createElement('p');

                                                            cardD.className = "card-text";

                                                            cardD.style.marginTop = "30px";

                                                            cardD.style.fontWeight = "normal";

                                                            cardD.style.textAlign = "left";

                                                            cardD.innerHTML = dataass["description"];
                                                            cardD.innerHTML = cardD.innerHTML.replace(/\n/g, "<br>");
                                                        }

                                                        document.getElementById("pageTitle").innerHTML = "Reports";
                                                        document.getElementById("PreLoaderBar").style.display = "none";
                                                        if(highEmergencyCounter != 0) {
                                                            document.getElementById("totalHE").innerHTML = highEmergencyCounter;
                                                        }
                                                        if(mediumEmergencyCounter != 0) {
                                                            document.getElementById("totalME").innerHTML = mediumEmergencyCounter;
                                                        }
                                                        document.getElementById("totalLE").innerHTML = lowEmergencyCounter;
                                                        document.getElementById("totalE").innerHTML = totalNumberOfEmergencies;
                                                        bd.appendChild(createInfo).appendChild(allContent).appendChild(closeButDiv).appendChild(cardB).appendChild(titleC).appendChild(cardD);
                                                        var elmnt = document.getElementById("allBody");
                                                        elmnt.scrollIntoView();

                                                    }

                                                })

                                            }
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            var pageN = document.getElementById("pageNo");
    
    
    
                                            var i;
                                            if(totalPages<6) {
                                                for (i = 1; i <= totalPages; i++) {
                                                    if(i <= pageClickedNum){
                                                        pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                    }
                                                    else{
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                    }
                                                }
                                            }else{
                                                if((pageClickedNum+5)<totalPages) {
                                                    for (i = pageClickedNum; i <= pageClickedNum+4; i++) {
                                                        if(i == pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        //else if(i == (pageClickedNum+1)){
                                                        //    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        //}
                                                        else {
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                            //pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                    }
                                                    pageN.innerHTML += "<a style='text-decoration: none; color: blue;'>... </a>";
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (totalPages) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (totalPages) + ");return false;'>" + (totalPages) + " </a>";
                                                }
                                                else{
                                                    for (i = pageClickedNum; i <= totalPages; i++) {
                                                        if (i == pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        
                                                        else{
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                }
        
                                            }
                                            
                                            /*
                                            var i;
                                            
                                            if(totalPages>6) {
                                                for (i = 1; i <= totalPages; i++) { //THIS ONE IS CAUSING TROUBLE //HERE FOR FIRST PAGE AA SHARET LOW EMERGENCY EXISTS
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                }
                                            }
                                            else{
                                                for (i = pageClickedNum; i <= 6+pageClickedNum; i++) { //THIS ONE IS CAUSING TROUBLE //HERE FOR FIRST PAGE AA SHARET LOW EMERGENCY EXISTS
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                }
                                            }
                                             */

                                            

                                        }else{
    
                                            var elmnt = document.getElementById("allBody");
                                            elmnt.scrollIntoView();
                                            
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            var pageN = document.getElementById("pageNo");
    
                                            var i;
                                            if(totalPages<6) {
                                                for (i = 1; i <= totalPages; i++) {
                                                    if(i <= pageClickedNum){
                                                        pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                    }
                                                    else{
                                                        pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                    }
                                                }
                                                
                                            }else{
                                                if((pageClickedNum+5)<totalPages) {
                                                    for (i = pageClickedNum; i <= pageClickedNum+4; i++) {
                                                        if(i == pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        else {
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                    pageN.innerHTML += "<a style='text-decoration: none; color: blue;'>... </a>";
                                                    pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (totalPages) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (totalPages) + ");return false;'>" + (totalPages) + " </a>";
                                                }
                                                else{
                                                    for (i = pageClickedNum; i <= totalPages; i++) {
                                                        if (i == pageClickedNum){
                                                            pageN.innerHTML += "<span style = 'color: darkgrey;'>" + (i) + " </span>";
                                                        }
                                                        else{
                                                            pageN.innerHTML += "<a href='#' class='pgeClck' id='" + (i) + "' style='text-decoration: none; color: blue;' onclick='pageClick(" + (i) + ");return false;'>" + (i) + " </a>";
                                                        }
                                                    }
                                                }
        
                                            }
                                            if(highEmergencyCounter != 0) {
                                                document.getElementById("totalHE").innerHTML = highEmergencyCounter;
                                            }
                                            if(mediumEmergencyCounter != 0) {
                                                document.getElementById("totalME").innerHTML = mediumEmergencyCounter;
                                            }
                                            //document.getElementById("totalLE").innerHTML = lowEmergencyCounter;
                                            if(totalNumberOfEmergencies != 0) {
                                                document.getElementById("totalE").innerHTML = totalNumberOfEmergencies;
                                            }
                                            
                                        }
                                                //first page, LOW EMERGENCY = NULL
                                    });
    
                                    
                                }





                            }
                        })
                    }

                });

                function deleteReport(id, classn) {
    
    
                    swal({
                            title: "Are you sure you want to delete this report?",
            
                            //text: "Are you sure to proceed?",
                        type: 'warning',
                            showCancelButton: true,
                            text: "You won't be able to revert this!",
                            confirmButtonColor: '#DD6B55',
            
                            confirmButtonText: "Delete",
            
            
                            cancelButtonText: "Cancel",
            
            
                            closeOnConfirm: true,
            
                            closeOnCancel: true
                        },
        
                        function (isConfirm) {
    
                            if (isConfirm) {
    
                                firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id).remove();
    
                                location.reload();
                            }
    
                        });

                    
                }
    
                function showInfo(id, classn) {
        
                    if (event.target.toString() !== "[object HTMLElement]") {
            
                        swal({
                                title: "What do you want to see?",
                    
                                //text: "Are you sure to proceed?",
                                showCloseButton: true,
                    
                                showCancelButton: true,
                    
                                //confirmButtonColor: "#DD6B55",
                    
                                //confirmButtonColor: '#157efb',
                                //cancelButtonColor: '#d33',
                    
                                confirmButtonColor: '#aaa',
                    
                                confirmButtonText: "Pending",
                    
                    
                                cancelButtonText: "Accepted",
                    
                                allowEscapeKey: false,
                                allowOutsideClick: false,
                                closeOnConfirm: true,
                    
                    
                                closeOnCancel: true
                            },
                
                            function (isConfirm) {
                    
                                if (isConfirm) {
                        
                        
                                    var cT = document.getElementById("currentTabReport");
                                    cT.className = "";
                        
                                    var pageN = document.getElementById("pageNo");
                                    pageN.innerHTML = "";
                        
                                    //swal("Account Removed!", "Your account is removed permanently!", "success");
                        
                        
                                    document.getElementById("allReports").innerHTML = "";
                        
                                    document.getElementById("pageTitle").innerHTML = "";
                                    document.getElementById("titlePending").innerHTML = "Pending";
                        
                                    var yC = document.getElementsByClassName("pgeClck");
                                    for (i = 0; i < yC.length; i++) {
                                        yC[i].style.display = "none";
                                    }
                        
                        
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Pending/').once('value', (snapshotts) => {
                                        document.getElementById("PreLoaderBar").style.display = "flex";
                            
                            
                                        var createnewA = document.createElement('a');
                            
                                        createnewA.style.textDecoration = "none";
                            
                                        createnewA.style.color = "blue";
                            
                                        createnewA.style.fontSize = "12px";
                                        createnewA.style.letterSpacing = "0";
                                        createnewA.style.cursor = "pointer";
                                        createnewA.onclick = function () {
                                            showDeclined(id, classn)
                                        };
                            
                                        createnewA.innerHTML = "Show declined?";
                            
                                        //var bdd = document.getElementById("branding");
                            
                                        //bd.appendChild(createnewA);
                            
                            
                                        var dataaess = snapshotts.val();
                            
                                        if (snapshotts.exists()) {
                                
                                
                                            document.getElementById("showP").style.marginBottom = "25px";
                                
                                
                                            var bd = document.getElementById("allReports");
                                            var bdd2 = document.getElementById("allPending");
                                            var bdd22 = document.getElementById("allDeclined");
                                            document.getElementById("showP").appendChild(createnewA);
                                            var IDs = [];
                                
                                            for (let keyysye in dataaess) {
                                                IDs.push(keyysye);
                                            }
                                
                                
                                            //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                            //keyysy
                                
                                
                                            firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                    
                                    
                                                snapshottt.forEach(function (child2) {
                                                    //alert(child2.key);
                                        
                                                    if (IDs.includes(child2.key)) {
                                            
                                                        firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                                
                                                            var dataasss = snapshottss.val();
                                                
                                                            if (snapshottss.exists()) {
                                                    
                                                    
                                                                for (let keyysys in dataasss) {
                                                                    //alert(keyysys);
                                                                    var createDivRow = document.createElement('div');
                                                        
                                                                    createDivRow.className = "roww";
                                                        
                                                        
                                                                    var createDivColumn = document.createElement('div');
                                                        
                                                                    createDivColumn.className = "columnnPending";
                                                        
                                                                    var createDivColumn2 = document.createElement('div');
                                                                    createDivColumn2.className = "columnn";
                                                        
                                                                    var createDivCard2 = document.createElement('div');
                                                                    createDivCard2.className = "cardd";
                                                                    var createInfo2 = document.createElement('div');
                                                                    createInfo2.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                            
                                                                        + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                        
                                                        
                                                        
                                                                    var createDivCard = document.createElement('div');
                                                        
                                                        
                                                                    if (classn === "high") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                            
                                                                    } else if (classn === "medium") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    } else {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    }
                                                        
                                                        
                                                                    var createInfo = document.createElement('div');
                                                        
                                                        
                                                                    var shiftDay = "";
                                                        
                                                                    //alert(dataasss["Shift"]);
                                                                    if (dataasss["Shift"] === "1") {
                                                                        shiftDay = "Monday";
                                                                    } else if (dataasss["Shift"] === "2") {
                                                                        shiftDay = "Tuesday";
                                                                    } else if (dataasss["Shift"] === "3") {
                                                                        shiftDay = "Wednesday";
                                                                    } else if (dataasss["Shift"] === "4") {
                                                                        shiftDay = "Thursday";
                                                                    } else {
                                                                        shiftDay = "Friday";
                                                                    }
                                                        
                                                        
                                                                    createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                            
                                                                        + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                        
                                                        
                                                                }
                                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                                bdd2.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                                //bdd2.appendChild(createDivRow).appendChild(createDivColumn2).appendChild(createDivCard2).appendChild(createInfo2);
                                                            }
                                                        });
                                                    }
                                                });
                                            });
                                            //}
                                        } else {
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            document.getElementById("allPending").innerHTML = "<br><br><br><br><br><br><br><br><br><h1>No Pending Members!</h1>";
                                            
                                        }
                                    })
                        
                        
                                    
                        
                        
                        
                        
                        
                                    //}
                        
                        
                        
                                } else {
                                    var cT = document.getElementById("currentTabReport");
                                    cT.className = "";
                        
                                    var pageN = document.getElementById("pageNo");
                                    pageN.innerHTML = "";
                                    //swal("Hurray", "Account is not removed!", "error");
                        
                        
                                    //if (event.target.toString() !== "[object HTMLElement]") {
                        
                        
                                    document.getElementById("allReports").innerHTML = "";
                        
                                    document.getElementById("pageTitle").innerHTML = "Accepted";
                        
                                    var yC = document.getElementsByClassName("pgeClck");
                                    for (i = 0; i < yC.length; i++) {
                                        yC[i].style.display = "none";
                                    }
                        
                        
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Accepted/').once('value', (snapshotts) => {
                                        document.getElementById("PreLoaderBar").style.display = "flex";
                            
                                        var createnewA = document.createElement('a');
                            
                                        createnewA.href = "reports.html";
                            
                                        createnewA.style.textDecoration = "none";
                            
                                        createnewA.style.color = "blue";
                            
                                        createnewA.style.cssFloat = "right";
                            
                                        createnewA.style.marginRight = "15px";
                            
                                        createnewA.style.marginTop = "5px";
                            
                                        createnewA.innerHTML = "Reports";
                            
                                        //var bdd = document.getElementById("branding");
                            
                                        //bdd.appendChild(createnewA);
                            
                            
                                        var dataaess = snapshotts.val();
                            
                                        if (snapshotts.exists()) {
                                
                                
                                            document.getElementById("pageTitle").style.marginBottom = "25px";
                                
                                
                                            var bd = document.getElementById("allReports");
                                
                                            var IDs = [];
                                
                                            for (let keyysye in dataaess) {
                                                IDs.push(keyysye);
                                            }
                                
                                
                                            //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                            //keyysy
                                
                                
                                            firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                    
                                    
                                                snapshottt.forEach(function (child2) {
                                                    //alert(child2.key);
                                        
                                                    if (IDs.includes(child2.key)) {
                                            
                                                        firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                                
                                                
                                                            var dataasss = snapshottss.val();
                                                
                                                            if (snapshottss.exists()) {
                                                    
                                                    
                                                                for (let keyysys in dataasss) {
                                                        
                                                        
                                                                    var createDivRow = document.createElement('div');
                                                        
                                                                    createDivRow.className = "roww";
                                                        
                                                        
                                                                    var createDivColumn = document.createElement('div');
                                                        
                                                                    createDivColumn.className = "columnn";
                                                        
                                                        
                                                                    var createDivCard = document.createElement('div');
                                                        
                                                        
                                                                    if (classn === "high") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                            
                                                                    } else if (classn === "medium") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    } else {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    }
                                                        
                                                        
                                                                    var createInfo = document.createElement('div');
                                                        
                                                                    var shiftDay = "";
                                                        
                                                                    if (dataasss["Shift"] === "1") {
                                                                        shiftDay = "Monday";
                                                                    } else if (dataasss["Shift"] === "2") {
                                                                        shiftDay = "Tuesday";
                                                                    } else if (dataasss["Shift"] === "3") {
                                                                        shiftDay = "Wednesday";
                                                                    } else if (dataasss["Shift"] === "4") {
                                                                        shiftDay = "Thursday";
                                                                    } else {
                                                                        shiftDay = "Friday";
                                                                    }
                                                        
                                                        
                                                                    createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                            
                                                                        + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                        
                                                                }
                                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                                bd.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                            }
                                                        });
                                                    }
                                                });
                                            });
                                            //}
                                        } else {
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            document.getElementById("allReports").innerHTML = "<br><br><br><br><br><br><br><br><br><h1>No Accepted Members!</h1>";
                                        }
                                    })
                                    //}
                                    //else{
                                    //    alert("4HAPPENED");
                                    //}
                        
                        
                                }
                            });
            
            
                    }
        
        
        
        
        
        
        
        
                    //if (confirm('Are you sure you want to delete this report?')) {
        
        
        
                    //}
        
        
        
                }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                function showDeclined(id, classn) {
        
                    if (event.target.toString() !== "[object HTMLElement]") {
                        document.getElementById("showP").style.display = "none";
                    
                        
                        
                                    var cT = document.getElementById("currentTabReport");
                                    cT.className = "";
                        
                                    var pageN = document.getElementById("pageNo");
                                    pageN.innerHTML = "";
                        
                                    //swal("Account Removed!", "Your account is removed permanently!", "success");
                        
                        
                                    document.getElementById("allReports").innerHTML = "";
                                    document.getElementById("allPending").innerHTML = "";
                        
                                    document.getElementById("pageTitle").innerHTML = "";
                                    document.getElementById("titlePending").innerHTML = "Declined";
                        
                                    var yC = document.getElementsByClassName("pgeClck");
                                    for (i = 0; i < yC.length; i++) {
                                        yC[i].style.display = "none";
                                    }
                        
                                    firebase.database().ref('Centers/' + currentCenter + '/reports/' + classn + '/' + id + '/notifications/Declined/').once('value', (snapshotts) => {
                                        document.getElementById("PreLoaderBar").style.display = "flex";
                                        
                                        
                            
                                        //var bdd = document.getElementById("branding");
                            
                                        //bd.appendChild(createnewA);
                            
                            
                                        var dataaess = snapshotts.val();
                            
                                        if (snapshotts.exists()) {
                                
                                
                                            document.getElementById("titlePending").style.marginBottom = "25px";
                                
                                
                                            var bd = document.getElementById("allReports");
                                            var bdd2 = document.getElementById("allPending");
                                            var bdd22 = document.getElementById("allDeclined");
                                            var IDs = [];
                                
                                            for (let keyysye in dataaess) {
                                                IDs.push(keyysye);
                                            }
                                
                                
                                            //firebase.database().ref('user/').orderByChild('Name').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                            //firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottses) => {
                                            //keyysy
                                
                                
                                            firebase.database().ref('user/').orderByChild('Shift').once('value', (snapshottt) => {
                                    
                                    
                                                snapshottt.forEach(function (child2) {
                                                    //alert(child2.key);
                                        
                                                    if (IDs.includes(child2.key)) {
                                            
                                                        firebase.database().ref('user/').child(child2.key).once('value', (snapshottss) => {
                                                
                                                            var dataasss = snapshottss.val();
                                                
                                                            if (snapshottss.exists()) {
                                                    
                                                    
                                                                for (let keyysys in dataasss) {
                                                                    //alert(keyysys);
                                                                    var createDivRow = document.createElement('div');
                                                        
                                                                    createDivRow.className = "roww";
                                                        
                                                        
                                                                    var createDivColumn = document.createElement('div');
                                                        
                                                                    createDivColumn.className = "columnnPending";
                                                                    
                                                        
                                                                    var createDivCard = document.createElement('div');
                                                        
                                                        
                                                                    if (classn === "high") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                            
                                                                    } else if (classn === "medium") {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    } else {
                                                            
                                                            
                                                                        createDivCard.className = "cardd";
                                                            
                                                                    }
                                                        
                                                        
                                                                    var createInfo = document.createElement('div');
                                                        
                                                        
                                                                    var shiftDay = "";
                                                        
                                                                    //alert(dataasss["Shift"]);
                                                                    if (dataasss["Shift"] === "1") {
                                                                        shiftDay = "Monday";
                                                                    } else if (dataasss["Shift"] === "2") {
                                                                        shiftDay = "Tuesday";
                                                                    } else if (dataasss["Shift"] === "3") {
                                                                        shiftDay = "Wednesday";
                                                                    } else if (dataasss["Shift"] === "4") {
                                                                        shiftDay = "Thursday";
                                                                    } else {
                                                                        shiftDay = "Friday";
                                                                    }
                                                        
                                                        
                                                                    createInfo.innerHTML = "<h3>" + dataasss["Name"] + "</h3><p style='color: blue;'><a href='tel:" + dataasss["Phone Number"] + "'style='text-decoration: none; color: blue;'>" + dataasss["Phone Number"] + "</a></p><p>Blood Type: " + dataasss["Blood Type"] + "</p><p>Position: " + dataasss["Position"] + "</p><p>Shift Day: " + shiftDay + "</p><p>Home Address: " + dataasss["Home Address"] + "</p><p>ICE: <span style='color: blue;'><a href='tel:"
                                                            
                                                                        + dataasss["ICE"] + "'style='text-decoration: none; color: blue;'>" + dataasss["ICE"] + "</a></span></p>";
                                                        
                                                        
                                                                }
                                                                document.getElementById("PreLoaderBar").style.display = "none";
                                                                bdd2.appendChild(createDivRow).appendChild(createDivColumn).appendChild(createDivCard).appendChild(createInfo);
                                                                //bdd2.appendChild(createDivRow).appendChild(createDivColumn2).appendChild(createDivCard2).appendChild(createInfo2);
                                                            }
                                                        });
                                                    }
                                                });
                                            });
                                            //}
                                        } else {
                                            document.getElementById("PreLoaderBar").style.display = "none";
                                            document.getElementById("allPending").innerHTML = "<br><br><br><br><br><br><br><br><br><h1>No Declined Members!</h1>";
                                        }
                                    })
                        
                                    
                        
                        
                                    //}
                        
                        
                        
                                
            
            
                    }
        
        
        
        
        
        
        
        
                    //if (confirm('Are you sure you want to delete this report?')) {
        
        
        
                    //}
        
        
        
                }














            }
        }

    }






</script>



<script>

    function logout(){
        
        
        firebase.auth().signOut()

            .then(function() {
    
                localStorage.clear();
                window.location.href = 'index.html';

            })

            .catch(function(error) {

                alert("SIGN OUT ERROR");

            });
    }

</script>

<div id = "pageNo" style="text-align: center;"></div>



<script>

</script>



</body>




<footer class="footer-basic-centered" style="margin-top: 350px; background-color:#e6e6e6; bottom: 0; width: 100%">
    
    <p class="footer-company-motto" style = "color: #000000">Lebanese Red Cross</p>
    
    <div class="container2" style="margin-top:10px;">
        
        <div class="b">
    
            <div style="height:8px;font-size:1px;">&nbsp;</div>
            <p style="text-decoration: none; color:#000000;font-family:Tahoma;text-align:left;font-size: 16px;">Per Humanitatem ad Pacem - With Humanity, Towards Peace</p>
            
            <br><div style="height:19px;"></div>
            
            <p style="color:#000000;font-family:Tahoma;text-align:left;font-size: 16px;"><a href="mailto:ahmad_kassabieh@msn.com" style="text-decoration: none;color:#000000;">Ahmad_kassabieh@msn.com</a><br>
                
                Lebanese Red Cross</p>
        </div>
        <div class="a">
            <img src='images/LogoRC.png' style="width:150px; height: 150px;"></img>
        </div>
    </div>
    <br><br>
    
    <p class="footer-company-name" style="color: black">Lebanese Red Cross &copy; 2019. All Rights Reserved.</p>
</footer>



</html>